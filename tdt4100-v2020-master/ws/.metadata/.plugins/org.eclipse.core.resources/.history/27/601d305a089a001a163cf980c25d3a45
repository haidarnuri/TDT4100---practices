package EksamenKont2018;

import java.util.ArrayList;
import java.util.Collection;
import java.util.Collections;
import java.util.Iterator;

public class Straight implements DiceScorer {
	  
   private final int score;
    public Straight(int score) {
        this.score=score;
    }
  
    @Override
    public DiceScore getScore(Dice dice) {
    	Collection<Integer> scoreDiceValues = new ArrayList<Integer>();
        boolean straightFailed;
        Iterator<Integer> diceIterator = dice.iterator();
        int compareInt1 =0;
        while(diceIterator.hasNext()) {
        	int temp=diceIterator.next();
        	if(temp != compareInt1+1) {
        		straightFailed=true;
        		break;
        	}else {
        		scoreDiceValues.add(temp);
        		compareInt1=temp;
        	}
        }
        if(straightFailed) {
			return null;
		}else {
			Dice scoringDice = new Dice(scoreDiceValues);
			return new DiceScore(scoringDice, this.score);
		}
    }
    
    public static void main(String[] args) {
		Straight straight = new Straight(5);
		Collection<Integer> dieValues2 = new ArrayList<>();
		Collections.addAll(dieValues2, 1,3,4);
    	Dice dice = new Dice(dieValues2);
    	System.out.println(straight.getScore(dice));
	}
}
