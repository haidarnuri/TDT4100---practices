package Eksamen2019;

import java.util.ArrayList;
import java.util.Collection;
import java.util.Iterator;

/** * A patient has a set of (health) conditions (of type String) that needs to be treated.
 * Supports iterating over the patient's conditions.
 */
public class Patient implements Iterable<String>{
	/*
	 Bestem selv hvilke felt, konstruktører og metoder du trenger for håndtering av (helse)tilstander (conditions).
    Begrunn valget av løsningen, spesielt hvilke typer du har valgt å bruke.
    requiresTreatment: returnerer om pasienten trenger behandling.
    Legg i tillegg inn støtte som lar andre klasser iterere over pasientens tilstander, på enklest mulig måte.
    VIKTIG: Merk at koden du skriver i oppgave 2b og den oppgitte testkoden i oppgave 2d skal passe til dine valg. 
	 */
	//Tenker at alle tilstander samles i en Collection og at andre klasser kan iterere gjennom de tilstandene. 
	private Collection<String> allConditions = new ArrayList<>();
	private final String name;
	//Initierer pasienten med et navn og tilstand hvis behov. 
	public Patient(String name) {
		this.name=name;
	}
	
	public Patient(String name, String condition) {
		this(name);
		addCondition(condition);
	}
	
	
	
	//Hvis det skjer noe annet med pasienten. 
	public void addCondition(String condition) {
		checkIfConditionExistOrIsEmpty(condition);
		if(!this.allConditions.contains(condition)) {
			this.allConditions.add(condition);
		}
	}
	
	//Fjerner fra listen dersom pasienten har blitt kurert
	public void removeCondition(String condition) {
		
	}
	
       // Add fields, constructors, and methods here: // 2a
        // Support iteration // 2a
     /**
    * Indicates if this patient has conditions that needs to be treated.
    * @return true if this patient has conditions that needs to be treated,
    * false otherwise.
    */
       public boolean requiresTreatment() { // 2a
    	   return this.allConditions.isEmpty();
       }



	@Override
	public Iterator<String> iterator() {
		return this.allConditions.iterator();
	}
	
	//Alle private metoder under her
	private void checkIfConditionExistOrIsEmpty(String condition) {
		if(condition==null || condition.isEmpty()) {
			throw new IllegalArgumentException("Use a valid condition");
		}
	}

	
	
}
