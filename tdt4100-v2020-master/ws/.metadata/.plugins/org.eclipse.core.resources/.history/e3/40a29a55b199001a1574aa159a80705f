package EksamenKont2017;


import java.util.Arrays;
import java.util.Collection;
import java.util.function.Predicate;

import org.junit.Before;
import org.junit.Test;

import junit.framework.TestCase;

public class MealTest extends TestCase {
	 
    private Course c1, c2;
    private Meal meal;
    Course[] courses;
    //Under her enticers objektene i forkant at hver test. 
    @Before
    protected void setUp() throws Exception {
    	c1 = new Course("Biff","mye kjøtt");
    	c2 = new Course("salat","ingen kjøtt");
    	meal = new Meal("something..", "boof og salat", c1,c2);
    }
     
    /**
     * Tests Meal's support for foreach loop (iteration)
     */

 @Test
    public void testIteration() {
    	Course[] courses = {c1,null};
    	Collection<Course> comparisonCourse = Arrays.asList(courses);
    	boolean isSame=true;
    	while(meal.iterator().hasNext()) {
    		System.out.println(meal.iterator().next().getName());
    		if(!comparisonCourse.contains(meal.iterator().next())) {
    			isSame = false;
    		}
    	}
    	assertTrue(isSame);
    }
     
    /**
     * Tests Meal's findCourse(Prediate) method
     */
    @Test
    public void testFindCourse() {
    	//Lyst til å finne den retten med mye kjøtt.
        Predicate<Course> test = tempCourse ->tempCourse.getDescription().equals("mye kjøtt");
        assertEquals(c1, meal.findCourse(test)); 
    }
}