package patterns.observable;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

public class StockIndex implements StockListener{

	private String name;
	private List<Stock> listStock = new ArrayList<>(); 
	private double price;
	
	public StockIndex(String name, Stock ...stocks) {
		this.name=name;
		setIndex(stocks);
	}
	
	public void setIndex(Stock[] stocks) {
		this.listStock = Arrays.asList(stocks);
		if(listStock == null) {
			this.price = 0;
		}
		else {
			for(Stock stock : listStock) {
				this.price +=stock.getPrice();
			}
		}
		
	}
	
	public void addStock(Stock stock) {
		if(!listStock.contains(stock)) {
			listStock.add(stock);
		}		
	}
	
	public void removeStock(Stock stock) {
		listStock.remove(stock);		
	}
	
	public double getIndex(){
		return this.price;
	}
	
	@Override
	public void stockPriceChanged(Stock stock, double oldValue, double newValue) {
		for(Stock stock:listStock) {
			
		}
	}

}
