package EksamenKont2014;

import java.util.ArrayList;
import java.util.Collection;

public class Bank {
	
	private Collection<Account> accountList = new ArrayList<>();
	private Transaction transactionRegister;
	
	public void addAccount(Account account){
		if(!accountList.contains(account)) {
			accountList.add(account);
		}
	}
	
	
	private int accountId=1;
	public void createAccount() {
		while(accountList.contains(new Account(Integer.toString(this.accountId)))) {
			this.accountId++;			
		}
		addAccount(new Account(Integer.toString(accountId)));	
	}
	
	protected int numberOfTransfers=0; 
	public void transfer(Account source, Account target, int amount) {
		numberOfTransfers++;
		if(!this.accountList.contains(target) && !this.accountList.contains(source)) {
			throw new IllegalArgumentException("Both accounts has to be registered in this bank");
		}
		try{
			source.withdraw(amount);
		}catch(Exception e) {
			System.out.println("Something wrong happened during withdrawel");
		}
		try {
			target.deposit(amount);
		}catch(Exception e) {
			System.out.println("Something wrong happened during deposit");
		}
		this.transactionRegister = new Transaction(source, target, amount);
	}
	
	
	
	
	
}
